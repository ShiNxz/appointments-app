"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users";
exports.ids = ["pages/api/users"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "(api)/./pages/api/users/index.ts":
/*!**********************************!*\
  !*** ./pages/api/users/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/db */ \"(api)/./utils/db.ts\");\n/* harmony import */ var _utils_models_User__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/utils/models/User */ \"(api)/./utils/models/User.ts\");\n\n\nconst handler = async (req, res)=>{\n    await (0,_utils_db__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    const { method  } = req;\n    switch(method){\n        case \"GET\":\n            {\n                const users = await _utils_models_User__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find({});\n                return res.status(200).json({\n                    success: true,\n                    users\n                });\n            }\n        default:\n            return res.status(401).end();\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvdXNlcnMvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQzJCO0FBQ1c7QUFFdEMsTUFBTUUsVUFBVSxPQUFPQyxLQUFxQkMsTUFBeUI7SUFDcEUsTUFBTUoscURBQUVBO0lBRVIsTUFBTSxFQUFFSyxPQUFNLEVBQUUsR0FBR0Y7SUFFbkIsT0FBUUU7UUFDUCxLQUFLO1lBQU87Z0JBQ1gsTUFBTUMsUUFBUSxNQUFNTCwrREFBUyxDQUFDLENBQUM7Z0JBRS9CLE9BQU9HLElBQUlJLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLFNBQVMsSUFBSTtvQkFBRUo7Z0JBQU07WUFDcEQ7UUFFQTtZQUNDLE9BQU9GLElBQUlJLE1BQU0sQ0FBQyxLQUFLRyxHQUFHO0lBQzVCO0FBQ0Q7QUFTQSxpRUFBZVQsT0FBT0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL3ppbXVuLXRvcmltLy4vcGFnZXMvYXBpL3VzZXJzL2luZGV4LnRzP2U4YWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcclxuaW1wb3J0IGRiIGZyb20gJ0AvdXRpbHMvZGInXHJcbmltcG9ydCBVc2VyIGZyb20gJ0AvdXRpbHMvbW9kZWxzL1VzZXInXHJcblxyXG5jb25zdCBoYW5kbGVyID0gYXN5bmMgKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PiB7XHJcblx0YXdhaXQgZGIoKVxyXG5cclxuXHRjb25zdCB7IG1ldGhvZCB9ID0gcmVxXHJcblxyXG5cdHN3aXRjaCAobWV0aG9kKSB7XHJcblx0XHRjYXNlICdHRVQnOiB7XHJcblx0XHRcdGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlci5maW5kKHt9KVxyXG5cclxuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSwgdXNlcnMgfSlcclxuXHRcdH1cclxuXHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmVuZCgpXHJcblx0fVxyXG59XHJcblxyXG5pbnRlcmZhY2UgSUJvZHkge1xyXG5cdGRhdGU6IERhdGVcclxuXHR1c2VySWQ6IHN0cmluZ1xyXG5cdG5hbWU6IHN0cmluZ1xyXG5cdHRpbWU6IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVyXHJcbiJdLCJuYW1lcyI6WyJkYiIsIlVzZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwidXNlcnMiLCJmaW5kIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/users/index.ts\n");

/***/ }),

/***/ "(api)/./utils/db.ts":
/*!*********************!*\
  !*** ./utils/db.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst { MONGODB_URI , MONGODB_DB  } = process.env;\nif (!MONGODB_URI) throw new Error(\"MONGODB_URI not defined\");\nif (!MONGODB_DB) throw new Error(\"MONGODB_DB not defined\");\nlet cached = global.mongoose;\nif (!cached) cached = global.mongoose = {\n    conn: null,\n    promise: null\n};\nasync function db() {\n    if (cached.conn) return cached.conn;\n    if (!cached.promise) {\n        const options = {\n            useNewUrlParser: true,\n            useUnifiedTopology: true,\n            dbName: MONGODB_DB\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(`${MONGODB_URI}`, options).then((mongoose)=>mongoose);\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (db);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9kYi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0I7QUFFL0IsTUFBTSxFQUFFQyxZQUFXLEVBQUVDLFdBQVUsRUFBRSxHQUFHQyxRQUFRQyxHQUFHO0FBRS9DLElBQUksQ0FBQ0gsYUFBYSxNQUFNLElBQUlJLE1BQU0sMkJBQTBCO0FBQzVELElBQUksQ0FBQ0gsWUFBWSxNQUFNLElBQUlHLE1BQU0sMEJBQXlCO0FBRTFELElBQUlDLFNBQVMsT0FBZ0JOLFFBQVE7QUFFckMsSUFBSSxDQUFDTSxRQUFRQSxTQUFTLE9BQWdCTixRQUFRLEdBQUc7SUFBRVEsTUFBTSxJQUFJO0lBQUVDLFNBQVMsSUFBSTtBQUFDO0FBRTdFLGVBQWVDLEtBQUs7SUFDbkIsSUFBSUosT0FBT0UsSUFBSSxFQUFFLE9BQU9GLE9BQU9FLElBQUk7SUFFbkMsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDcEIsTUFBTUUsVUFBVTtZQUNmQyxpQkFBaUIsSUFBSTtZQUNyQkMsb0JBQW9CLElBQUk7WUFDeEJDLFFBQVFaO1FBQ1Q7UUFDQUksT0FBT0csT0FBTyxHQUFHVCx1REFBZ0IsQ0FBQyxDQUFDLEVBQUVDLFlBQVksQ0FBQyxFQUFFVSxTQUFTSyxJQUFJLENBQUMsQ0FBQ2hCLFdBQWFBO0lBQ2pGLENBQUM7SUFFRE0sT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFFbEMsT0FBT0gsT0FBT0UsSUFBSTtBQUNuQjtBQUVBLGlFQUFlRSxFQUFFQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vemltdW4tdG9yaW0vLi91dGlscy9kYi50cz9jZDdiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuXHJcbmNvbnN0IHsgTU9OR09EQl9VUkksIE1PTkdPREJfREIgfSA9IHByb2Nlc3MuZW52XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB0aHJvdyBuZXcgRXJyb3IoJ01PTkdPREJfVVJJIG5vdCBkZWZpbmVkJylcclxuaWYgKCFNT05HT0RCX0RCKSB0aHJvdyBuZXcgRXJyb3IoJ01PTkdPREJfREIgbm90IGRlZmluZWQnKVxyXG5cclxubGV0IGNhY2hlZCA9IChnbG9iYWwgYXMgYW55KS5tb25nb29zZVxyXG5cclxuaWYgKCFjYWNoZWQpIGNhY2hlZCA9IChnbG9iYWwgYXMgYW55KS5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkYigpIHtcclxuXHRpZiAoY2FjaGVkLmNvbm4pIHJldHVybiBjYWNoZWQuY29ublxyXG5cclxuXHRpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcblx0XHRjb25zdCBvcHRpb25zID0ge1xyXG5cdFx0XHR1c2VOZXdVcmxQYXJzZXI6IHRydWUsXHJcblx0XHRcdHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxuXHRcdFx0ZGJOYW1lOiBNT05HT0RCX0RCLFxyXG5cdFx0fVxyXG5cdFx0Y2FjaGVkLnByb21pc2UgPSBtb25nb29zZS5jb25uZWN0KGAke01PTkdPREJfVVJJfWAsIG9wdGlvbnMpLnRoZW4oKG1vbmdvb3NlKSA9PiBtb25nb29zZSlcclxuXHR9XHJcblxyXG5cdGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2VcclxuXHJcblx0cmV0dXJuIGNhY2hlZC5jb25uXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiXHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwiTU9OR09EQl9EQiIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGIiLCJvcHRpb25zIiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiZGJOYW1lIiwiY29ubmVjdCIsInRoZW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/db.ts\n");

/***/ }),

/***/ "(api)/./utils/models/User.ts":
/*!******************************!*\
  !*** ./utils/models/User.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: String,\n    phone: String,\n    dates: [\n        {\n            date: Date,\n            start: String,\n            end: String,\n            appointments: [\n                {\n                    appointment: {\n                        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n                        ref: \"Appointment\"\n                    },\n                    start: String\n                }\n            ]\n        }\n    ],\n    createdAt: Number,\n    updatedAt: Number\n}, {\n    collection: \"Users\",\n    timestamps: {\n        currentTime: ()=>Math.floor(Date.now() / 1000)\n    }\n});\nconst User = mongoose__WEBPACK_IMPORTED_MODULE_0__.models.User || (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.model)(\"User\", UserSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9tb2RlbHMvVXNlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUQ7QUE0QnZELE1BQU1HLGFBQWEsSUFBSUQsNENBQU1BLENBQzVCO0lBQ0NFLE1BQU1DO0lBQ05DLE9BQU9EO0lBRVBFLE9BQU87UUFDTjtZQUNDQyxNQUFNQztZQUNOQyxPQUFPTDtZQUNQTSxLQUFLTjtZQUNMTyxjQUFjO2dCQUNiO29CQUNDQyxhQUFhO3dCQUNaQyxNQUFNWiwyREFBcUI7d0JBQzNCZSxLQUFLO29CQUNOO29CQUNBUCxPQUFPTDtnQkFDUjthQUNBO1FBQ0Y7S0FDQTtJQUVEYSxXQUFXQztJQUNYQyxXQUFXRDtBQUNaLEdBQ0E7SUFDQ0UsWUFBWTtJQUNaQyxZQUFZO1FBQUVDLGFBQWEsSUFBTUMsS0FBS0MsS0FBSyxDQUFDaEIsS0FBS2lCLEdBQUcsS0FBSztJQUFNO0FBQ2hFO0FBR0QsTUFBTUMsT0FBcUIzQixpREFBVyxJQUFJQywrQ0FBS0EsQ0FBUSxRQUFRRTtBQUMvRCxpRUFBZXdCLElBQUlBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96aW11bi10b3JpbS8uL3V0aWxzL21vZGVscy9Vc2VyLnRzPzczNGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbW9kZWxzLCBtb2RlbCwgU2NoZW1hLCBNb2RlbCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5pbXBvcnQgeyBJQXBwb2ludG1lbnQgfSBmcm9tICcuL0FwcG9pbnRtZW50J1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVXNlciBleHRlbmRzIERvY3VtZW50IHtcclxuXHRfaWQ6IHN0cmluZ1xyXG5cclxuXHRuYW1lOiBzdHJpbmdcclxuXHRwaG9uZTogc3RyaW5nXHJcblxyXG5cdC8vIEF2YWlsYWJsZSB0aW1lc1xyXG5cdGRhdGVzOiBJQXZhaWxhYmxlRGF0ZVtdXHJcblxyXG5cdGNyZWF0ZWRBdDogbnVtYmVyXHJcblx0dXBkYXRlZEF0OiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQXZhaWxhYmxlRGF0ZSB7XHJcblx0ZGF0ZTogRGF0ZVxyXG5cdHN0YXJ0OiBzdHJpbmcgLy8gMTA6MDBcclxuXHRlbmQ6IHN0cmluZyAvLyAxNzowMFxyXG5cdGFwcG9pbnRtZW50czogSVNoZWR1bGVkQXBwW11cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJU2hlZHVsZWRBcHAge1xyXG5cdGFwcG9pbnRtZW50OiBJQXBwb2ludG1lbnRcclxuXHRzdGFydDogc3RyaW5nIC8vIDEwOjAwXHJcbn1cclxuXHJcbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKFxyXG5cdHtcclxuXHRcdG5hbWU6IFN0cmluZyxcclxuXHRcdHBob25lOiBTdHJpbmcsXHJcblxyXG5cdFx0ZGF0ZXM6IFtcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGU6IERhdGUsXHJcblx0XHRcdFx0c3RhcnQ6IFN0cmluZyxcclxuXHRcdFx0XHRlbmQ6IFN0cmluZyxcclxuXHRcdFx0XHRhcHBvaW50bWVudHM6IFtcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0YXBwb2ludG1lbnQ6IHtcclxuXHRcdFx0XHRcdFx0XHR0eXBlOiBTY2hlbWEuVHlwZXMuT2JqZWN0SWQsXHJcblx0XHRcdFx0XHRcdFx0cmVmOiAnQXBwb2ludG1lbnQnLFxyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRzdGFydDogU3RyaW5nLFxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRdLFxyXG5cdFx0XHR9LFxyXG5cdFx0XSxcclxuXHJcblx0XHRjcmVhdGVkQXQ6IE51bWJlcixcclxuXHRcdHVwZGF0ZWRBdDogTnVtYmVyLFxyXG5cdH0sXHJcblx0e1xyXG5cdFx0Y29sbGVjdGlvbjogJ1VzZXJzJyxcclxuXHRcdHRpbWVzdGFtcHM6IHsgY3VycmVudFRpbWU6ICgpID0+IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApIH0sXHJcblx0fVxyXG4pXHJcblxyXG5jb25zdCBVc2VyOiBNb2RlbDxJVXNlcj4gPSBtb2RlbHMuVXNlciB8fCBtb2RlbDxJVXNlcj4oJ1VzZXInLCBVc2VyU2NoZW1hKVxyXG5leHBvcnQgZGVmYXVsdCBVc2VyXHJcbiJdLCJuYW1lcyI6WyJtb2RlbHMiLCJtb2RlbCIsIlNjaGVtYSIsIlVzZXJTY2hlbWEiLCJuYW1lIiwiU3RyaW5nIiwicGhvbmUiLCJkYXRlcyIsImRhdGUiLCJEYXRlIiwic3RhcnQiLCJlbmQiLCJhcHBvaW50bWVudHMiLCJhcHBvaW50bWVudCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiY3JlYXRlZEF0IiwiTnVtYmVyIiwidXBkYXRlZEF0IiwiY29sbGVjdGlvbiIsInRpbWVzdGFtcHMiLCJjdXJyZW50VGltZSIsIk1hdGgiLCJmbG9vciIsIm5vdyIsIlVzZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./utils/models/User.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/users/index.ts"));
module.exports = __webpack_exports__;

})();